# Production Environment Overrides
# This file contains ONLY production-specific settings that override defaults from .env
# SECURITY NOTE: These are production-ready settings

# CRITICAL: Strong cryptographically secure secret key for production
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=django-insecure-CHANGE-THIS-IN-PRODUCTION-generate-new-key
DEBUG=False

# Production Database Configuration
DB_NAME=infobus
DB_USER=postgres
DB_PASSWORD=postgres  # Using default for now - change in real production!
DB_HOST=db
DB_PORT=5432
DATABASE_URL=postgresql://postgres:postgres@db:5432/infobus

# Production-specific Django settings
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# Security Settings (production-ready)
SECURE_SSL_REDIRECT=False  # Set to True when you have HTTPS
SECURE_HSTS_SECONDS=31536000  # 1 year
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
SESSION_COOKIE_SECURE=False  # Set to True when you have HTTPS
CSRF_COOKIE_SECURE=False  # Set to True when you have HTTPS
SECURE_REFERRER_POLICY=no-referrer-when-downgrade

# Session Security
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=True
SESSION_EXPIRE_AT_BROWSER_CLOSE=True
SESSION_COOKIE_AGE=3600  # 1 hour

# Logging
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=INFO

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# Celery Configuration
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Static and Media Files
STATIC_URL=/static/
MEDIA_URL=/media/
STATIC_ROOT=/app/staticfiles
MEDIA_ROOT=/app/media

# Geospatial Libraries (Docker paths for ARM64)
GDAL_LIBRARY_PATH=/usr/lib/aarch64-linux-gnu/libgdal.so
GEOS_LIBRARY_PATH=/usr/lib/aarch64-linux-gnu/libgeos_c.so

# Email Configuration (configure as needed)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=your-smtp-server.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@domain.com
# EMAIL_HOST_PASSWORD=your-app-password
# DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# Performance Settings
CONN_MAX_AGE=60  # Database connection pooling
